<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../jquery-3.6.0.min.js"></script><script src="../../bootstrap/js/bootstrap.min.js"></script><script src="../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../styles.css" rel="stylesheet"/><link href="../../extra-styles.css" rel="stylesheet"/><link href="../../haxe-nav.css" rel="stylesheet"/><link href="../../dark-mode.css" rel="stylesheet"/><script>var dox = {rootPath: "../../",platforms: ["oc"]};</script><script src="../../nav.js"></script><script src="../../index.js"></script><link rel="icon" href="../../favicon.ico" type="image/x-icon"/><title>openfl.media.SoundLoaderContext</title><meta name="description" content="The SoundLoaderContext class provides security checks for files that load
sound. SoundLoaderContext objects are passed as an argument to the
constructor and the &lt;code&gt;load()&lt;/code&gt; method of the Sound class."/></head><body><script>/* Here to prevent flash of unstyled content */let systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if ((!localStorage.theme && systemDarkMode) || localStorage.theme == "dark") {document.body.style.backgroundColor = "#111";document.body.style.opacity = "0";document.addEventListener("DOMContentLoaded", function(event) {toggleTheme();document.body.style.backgroundColor = "";document.body.style.opacity = "";});}</script><style>
.navbar .brand {
	display: inline-block;
	float: none;
	text-shadow: 0 0 0 transparent;
}
</style><nav class="nav"><div class="navbar"><div class="navbar-inner" style="background:#FAFAFA; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" style="color:#000000" href="../../">API Documentation</a><a href="#" id="theme-toggle" class="brand" style="color:#000000" onclick="toggleTheme()" title="Toggle Dark Mode"><i class="fa fa-moon-o"></i></a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="fa fa-search"></i></span><input id="search" type="text" placeholder="Filter (Ctrl+P)" autocomplete="off"/></div></form></div><div class="well sidebar-nav" id="explorer"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><h1><small>class</small> SoundLoaderContext</h1><h4><small>package <a href="../../openfl/media/index.html">openfl.media</a></small></h4>    <span class="label label-meta label-meta-fileXml" title="Include a given XML attribute snippet in the `Build.xml` entry for the file.">@:fileXml(&quot;tags=\&quot;haxe,release\&quot;&quot;)</span><span class="label label-meta label-meta-noDebug" title="Does not generate debug information even if `--debug` is set.">@:noDebug</span></div><div class="body"><div class="doc doc-main"><p>The SoundLoaderContext class provides security checks for files that load
sound. SoundLoaderContext objects are passed as an argument to the
constructor and the <code>load()</code> method of the Sound class.</p>
<p>When you use this class, consider the following security model:</p><ul><li>Loading and playing a sound is not allowed if the calling file is in
a network sandbox and the sound file to be loaded is local.</li><li>By default, loading and playing a sound is not allowed if the calling
is local and tries to load and play a remote sound. A user must grant
explicit permission to allow this.</li><li>Certain operations dealing with sound are restricted. The data in a
loaded sound cannot be accessed by a file in a different domain unless you
implement a URL policy file. Sound-related APIs that fall under this
restriction are the <code><a href="../../openfl/media/Sound.html#id3">Sound.id3</a></code> property and the
<code><a href="../../openfl/media/SoundMixer.html#computeSpectrum">SoundMixer.computeSpectrum</a>()</code>,
<code><a href="../../openfl/media/SoundMixer.html#bufferTime">SoundMixer.bufferTime</a></code>, and <code><a href="../../openfl/media/SoundTransform.html#SoundTransform">SoundTransform</a>()</code>
methods.</li></ul>
<p>However, in Adobe AIR, content in the <code>application</code> security
sandbox(content installed with the AIR application) are not restricted by
these security limitations.</p>
<p>For more information related to security, see the Flash Player Developer
Center Topic: <a href="http://www.adobe.com/go/devnet_security_en">Security</a>.</p></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3 class="anchor"><code><span class="label label-meta label-meta-value" title="Used to store default values for fields and function arguments.">@:value({ checkPolicyFile : false, bufferTime : 1000 })</span><a href="#new"><span class="identifier">new</span></a>(<span style="white-space:nowrap">bufferTime:<a class="type" title="Float - The standard Float type, this is a double-precision IEEE 64bit float." href="../../Float.html">Float</a> = 1000,</span> <span style="white-space:nowrap">checkPolicyFile:<a class="type" title="Bool - The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a> = false</span>)</code></h3><div class="doc"><p>Creates a new sound loader context object.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>bufferTime</code></th><td><p>The number of seconds to preload a streaming sound
into a buffer before the sound starts to stream.</p></td></tr><tr><th style="width:25%;"><code>checkPolicyFile</code></th><td><p>Specifies whether the existence of a URL policy
file should be checked upon loading the object</p>
<pre><code>				  (`true`) or not.
</code></pre></td></tr></table></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="bufferTime"></a><h3 class="anchor"><code><a href="#bufferTime"><span class="identifier">bufferTime</span></a>:<a class="type" title="Float - The standard Float type, this is a double-precision IEEE 64bit float." href="../../Float.html">Float</a></code></h3><div class="doc"><p>The number of milliseconds to preload a streaming sound into a buffer
before the sound starts to stream.</p>
<p>Note that you cannot override the value of
<code><a href="../../openfl/media/SoundLoaderContext.html#bufferTime">SoundLoaderContext.bufferTime</a></code> by setting the global
<code><a href="../../openfl/media/SoundMixer.html#bufferTime">SoundMixer.bufferTime</a></code> property. The
<code><a href="../../openfl/media/SoundMixer.html#bufferTime">SoundMixer.bufferTime</a></code> property affects the buffer time for
embedded streaming sounds in a SWF file and is independent of dynamically
created Sound objects(that is, Sound objects created in
ActionScript).</p></div></div><div class="field "><a name="checkPolicyFile"></a><h3 class="anchor"><code><a href="#checkPolicyFile"><span class="identifier">checkPolicyFile</span></a>:<a class="type" title="Bool - The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a></code></h3><div class="doc"><p>Specifies whether the application should try to download a URL policy
file from the loaded sound's server before beginning to load the
sound. This property applies to sound that is loaded from outside the
calling file's own domain using the <code><a href="../../openfl/media/Sound.html#load">Sound.load</a>()</code> method.
Set this property to <code><a href="../../Bool.html">true</a></code> when you load a sound from outside the
calling file's own domain and code in the calling file needs low-level
access to the sound's data. Examples of low-level access to a sound's
data include referencing the <code><a href="../../openfl/media/Sound.html#id3">Sound.id3</a></code> property to get an ID3Info
object or calling the <code><a href="../../openfl/media/SoundMixer.html#computeSpectrum">SoundMixer.computeSpectrum</a>()</code> method to get
sound samples from the loaded sound. If you try to access sound data
without setting the <code>checkPolicyFile</code> property to <code><a href="../../Bool.html">true</a></code> at loading
time, you may get a SecurityError exception because the required
policy file has not been downloaded.</p>
<p>If you don't need low-level access to the sound data that you are
loading, avoid setting <code>checkPolicyFile</code> to <code><a href="../../Bool.html">true</a></code>. Checking for a
policy file consumes network bandwidth and might delay the start of
your download, so it should only be done when necessary.</p>
<p>When you call <code><a href="../../openfl/media/Sound.html#load">Sound.load</a>()</code> with <code><a href="../../openfl/media/SoundLoaderContext.html#checkPolicyFile">SoundLoaderContext.checkPolicyFile</a></code>
set to <code><a href="../../Bool.html">true</a></code>, Flash Player or AIR must either successfully download a
relevant URL policy file or determine that no such policy file exists
before it begins downloading the specified sound. Flash Player or AIR
performs the following actions, in this order, to verify the existence
of a policy file:</p><ul><li>Flash Player or AIR considers policy files that have already been
downloaded.</li><li>Flash Player or AIR tries to download any pending policy files
specified in calls to <code>Security.loadPolicyFile()</code>.</li><li>Flash Player or AIR tries to download a policy file from the default
location that corresponds to the sound's URL, which is
<code>/crossdomain.xml</code> on the same server as <code><a href="../../openfl/net/URLRequest.html#url">URLRequest.url</a></code>. (The
sound's URL is specified in the <code>url</code> property of the URLRequest
object passed to <code><a href="../../openfl/media/Sound.html#load">Sound.load</a>()</code> or the Sound() constructor function.)</li></ul>
<p>In all cases, Flash Player or AIR requires that an appropriate policy
file exist on the sound's server, that it provide access to the sound
file at <code><a href="../../openfl/net/URLRequest.html#url">URLRequest.url</a></code> by virtue of the policy file's location, and
that it allow the domain of the calling file to access the sound,
through one or more <code>&lt;allow-access-from&gt;</code> tags.</p>
<p>If you set <code>checkPolicyFile</code> to <code><a href="../../Bool.html">true</a></code>, Flash Player or AIR waits
until the policy file is verified before loading the sound. You should
wait to perform any low-level operations on the sound data, such as
calling <code><a href="../../openfl/media/Sound.html#id3">Sound.id3</a></code> or <code><a href="../../openfl/media/SoundMixer.html#computeSpectrum">SoundMixer.computeSpectrum</a>()</code>, until
<code>progress</code> and <code>complete</code> events are dispatched from the Sound object.</p>
<p>If you set <code>checkPolicyFile</code> to <code><a href="../../Bool.html">true</a></code> but no appropriate policy file
is found, you will not receive an error until you perform an operation
that requires a policy file, and then Flash Player or AIR throws a
<code>SecurityError</code> exception. After you receive a <code>complete</code> event, you
can test whether a relevant policy file was found by getting the value
of <code><a href="../../openfl/media/Sound.html#id3">Sound.id3</a></code> within a <code>try</code> block and seeing if a <code>SecurityError</code> is
thrown.</p>
<p>Be careful with <code>checkPolicyFile</code> if you are downloading sound from a
URL that uses server-side HTTP redirects. Flash Player or AIR tries to
retrieve policy files that correspond to the <code>url</code> property of the
URLRequest object passed to <code><a href="../../openfl/media/Sound.html#load">Sound.load</a>()</code>. If the final sound file
comes from a different URL because of HTTP redirects, then the
initially downloaded policy files might not be applicable to the
sound's final URL, which is the URL that matters in security
decisions.</p>
<p>If you find yourself in this situation, here is one possible solution.
After you receive a <code>progress</code> or <code>complete</code> event, you can examine
the value of the <code><a href="../../openfl/media/Sound.html#url">Sound.url</a></code> property, which contains the sound's
final URL. Then call the <code>Security.loadPolicyFile()</code> method with a
policy file URL that you calculate based on the sound's final URL.
Finally, poll the value of <code><a href="../../openfl/media/Sound.html#id3">Sound.id3</a></code> until no exception is thrown.</p>
<p>This does not apply to content in the AIR application sandbox. Content
in the application sandbox always has programatic access to sound
content, regardless of its origin.</p>
<p>For more information related to security, see the Flash Player
Developer Center Topic: &lt;a
href="<a href="http://www.adobe.com/go/devnet_security_en">http://www.adobe.com/go/devnet_security_en</a>"
scope="external">Security</a>.</p></div></div></div></div></div></div></div><footer class="section site-footer" style="background:#FAFAFA"><div class="container"><div class="copyright"><p style="color:#000000">&copy; 2022 &nbsp;</p></div></div></footer><script src="../..//highlighter.js"></script><link href="../../highlighter.css" rel="stylesheet"/></body></html>